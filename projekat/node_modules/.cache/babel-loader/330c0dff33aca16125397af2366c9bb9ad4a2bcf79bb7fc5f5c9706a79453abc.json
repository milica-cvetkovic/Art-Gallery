{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport $ from \"jquery\";\nimport ProfileOffersView from \"../components/ProfileOffersView.vue\";\nimport ProfileMessagesView from \"../components/ProfileMessagesView.vue\";\nimport allUsers from \"../data/users.js\";\nexport default {\n  name: \"ProfileView\",\n  components: {\n    ProfileOffersView,\n    ProfileMessagesView\n  },\n  mounted: function () {\n    if (this.verify() == \"serbian\") {\n      $(document).prop(\"title\", \"Fine Art Co Profil\");\n    } else {\n      $(document).prop(\"title\", \"Fine Art Co Profile\");\n    }\n  },\n  data() {\n    return {\n      user: \"\",\n      myOffers: [],\n      username: \"\",\n      password: \"\",\n      users: [],\n      Rusername: '',\n      Rpassword: '',\n      RrepeatPassword: ''\n    };\n  },\n  created() {\n    this.user = localStorage.getItem(\"user\");\n    if (localStorage.getItem(\"users\") == null) {\n      this.users = allUsers;\n      localStorage.setItem(\"users\", JSON.stringify(this.users));\n    } else {\n      this.users = JSON.parse(localStorage.getItem(\"users\"));\n    }\n    if (this.verify() == \"serbian\") {\n      $(document).prop(\"title\", \"Fine Art Co Profil\");\n    } else {\n      $(document).prop(\"title\", \"Fine Art Co Profile\");\n    }\n  },\n  methods: {\n    logged() {\n      return localStorage.getItem(\"user\") != null;\n    },\n    login() {\n      let found = false;\n      for (let i = 0; i < this.users.length; i++) {\n        if (this.username == this.users[i].username) {\n          found = true;\n          if (this.password == this.users[i].password) {\n            localStorage.setItem(\"user\", JSON.stringify(this.username));\n            location.reload();\n            return;\n          } else {\n            this.error = \"Lozinka nije ispravna\";\n            return;\n          }\n        }\n      }\n      if (found == false) {\n        this.error = \"Korisnik ne postoji\";\n        return;\n      }\n    },\n    registerRequest() {\n      let found = true;\n      localStorage.setItem(\"registerRequest\", JSON.stringify(found));\n      location.reload();\n    },\n    registerCheck() {\n      return localStorage.getItem(\"registerRequest\") != null;\n    },\n    register() {\n      for (let i = 0; i < this.users.length; i++) {\n        if (this.Rusername == this.users[i].username) {\n          return;\n        }\n      }\n      if (this.Rpassword != this.RrepeatPassword) {\n        return;\n      }\n      let newUser = {\n        username: this.Rusername,\n        password: this.Rpassword\n      };\n      this.users.push(newUser);\n      localStorage.setItem(\"users\", JSON.stringify(this.users));\n      localStorage.removeItem(\"registerRequest\");\n    },\n    verify() {\n      return JSON.parse(localStorage.getItem(\"language\"));\n    }\n  }\n};","map":{"version":3,"names":["$","ProfileOffersView","ProfileMessagesView","allUsers","name","components","mounted","verify","document","prop","data","user","myOffers","username","password","users","Rusername","Rpassword","RrepeatPassword","created","localStorage","getItem","setItem","JSON","stringify","parse","methods","logged","login","found","i","length","location","reload","error","registerRequest","registerCheck","register","newUser","push","removeItem"],"sources":["C:\\Users\\milic\\OneDrive\\Desktop\\FINALNO\\vd_projekat\\projekat\\src\\views\\ProfileView.vue"],"sourcesContent":["<template>\r\n<div v-if=\"logged() == false && registerCheck() == false\" class=\"login\">\r\n  <div id=\"form-div\">\r\n    <form @submit=\"login()\"> \r\n      <span>{{error}}</span>\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"text\" id=\"loginName\" class=\"form-control\" v-model=\"username\"/>\r\n        <label class=\"form-label\" for=\"username\">Username</label>\r\n      </div>\r\n\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"password\" id=\"loginPassword\" class=\"form-control\" v-model=\"password\" />\r\n        <label class=\"form-label\" for=\"password\">Password</label>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-dark btn-block mb-4 submit\" style=\"margin-right:10px;\">Log in</button>\r\n      <button type=\"button\" class=\"btn btn-dark btn-block mb-4\" @click=\"registerRequest()\">Register</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<div v-else-if=\"registerCheck()\">\r\n<div id=\"register-div\">\r\n    <form @submit=\"register()\">\r\n\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"text\" id=\"registerUsername\" class=\"form-control\" v-model=\"Rusername\" />\r\n        <label class=\"form-label\" for=\"registerUsername\">Username</label>\r\n      </div>\r\n\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"password\" id=\"registerPassword\" class=\"form-control\" v-model=\"Rpassword\" />\r\n        <label class=\"form-label\" for=\"registerPassword\">Password</label>\r\n      </div>\r\n\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"password\" id=\"registerRepeatPassword\" class=\"form-control\" v-model=\"RrepeatPassword\" />\r\n        <label class=\"form-label\" for=\"registerRepeatPassword\">Repeat password</label>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-dark btn-block mb-3\">Sign in</button>\r\n    </form>\r\n</div>\r\n</div>\r\n\r\n<div v-else class=\"rest\">\r\n  <ProfileOffersView></ProfileOffersView>\r\n  <profile-messages-view></profile-messages-view>\r\n  <button type=\"button\" class=\"btn btn-dark btn-block mb-3\" @click=\"logout()\">Log out</button>\r\n</div>\r\n</template>\r\n\r\n<style scoped>\r\n.login {\r\n  background: rgba(255, 255, 255, 0.8);\r\n  padding-bottom: 200px;\r\n  padding-top: 150px;\r\n}\r\n\r\n.form-control {\r\n  width: 30%;\r\n  margin: auto;\r\n}\r\n\r\n#form-div, #register-div {\r\n  background: rgba(255, 255, 255, 0.8);\r\n  padding-top: 30px;\r\n}\r\n\r\n#register-div, .rest{\r\n    min-height: 100vh;\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nimport ProfileOffersView from \"../components/ProfileOffersView.vue\";\r\nimport ProfileMessagesView from \"../components/ProfileMessagesView.vue\";\r\nimport allUsers from \"../data/users.js\";\r\n\r\nexport default {\r\n  name: \"ProfileView\",\r\n  components: { ProfileOffersView, ProfileMessagesView },\r\n  mounted: function () {\r\n    if (this.verify() == \"serbian\") {\r\n      $(document).prop(\"title\", \"Fine Art Co Profil\");\r\n    } else {\r\n      $(document).prop(\"title\", \"Fine Art Co Profile\");\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      user: \"\",\r\n      myOffers: [],\r\n      username: \"\",\r\n      password: \"\",\r\n      users: [],\r\n      Rusername: '',\r\n      Rpassword: '',\r\n      RrepeatPassword: ''\r\n    };\r\n  },\r\n  created() {\r\n    this.user = localStorage.getItem(\"user\");\r\n\r\n    if (localStorage.getItem(\"users\") == null) {\r\n      this.users = allUsers;\r\n      localStorage.setItem(\"users\", JSON.stringify(this.users));\r\n    } else {\r\n      this.users = JSON.parse(localStorage.getItem(\"users\"));\r\n    }\r\n\r\n    if (this.verify() == \"serbian\") {\r\n      $(document).prop(\"title\", \"Fine Art Co Profil\");\r\n    } else {\r\n      $(document).prop(\"title\", \"Fine Art Co Profile\");\r\n    }\r\n  },\r\n  methods: {\r\n    logged() {\r\n      return localStorage.getItem(\"user\") != null;\r\n    },\r\n    login() {\r\n      let found = false;\r\n      for (let i = 0; i < this.users.length; i++) {\r\n        if (this.username == this.users[i].username) {\r\n          found = true;\r\n          if (this.password == this.users[i].password) {\r\n            localStorage.setItem(\"user\", JSON.stringify(this.username));\r\n            location.reload();\r\n            return;\r\n          } else {\r\n            this.error = \"Lozinka nije ispravna\";\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      if (found == false) {\r\n        this.error = \"Korisnik ne postoji\";\r\n        return;\r\n      }\r\n    },\r\n    registerRequest() {\r\n      let found = true;\r\n      localStorage.setItem(\"registerRequest\", JSON.stringify(found));\r\n      location.reload();\r\n    },\r\n    registerCheck() {\r\n      return localStorage.getItem(\"registerRequest\") != null;\r\n    },\r\n    register() {\r\n\r\n      for (let i = 0; i < this.users.length; i++) {\r\n        if (this.Rusername == this.users[i].username) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      if(this.Rpassword != this.RrepeatPassword){\r\n        return;\r\n      }\r\n\r\n      let newUser = {\r\n        username: this.Rusername,\r\n        password: this.Rpassword\r\n      };\r\n\r\n      this.users.push(newUser);\r\n      localStorage.setItem(\"users\",JSON.stringify(this.users));\r\n\r\n      localStorage.removeItem(\"registerRequest\");\r\n    },\r\n    verify() {\r\n      return JSON.parse(localStorage.getItem(\"language\"));\r\n    },\r\n  },\r\n};\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}