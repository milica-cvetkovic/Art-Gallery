{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"OffersView\",\n  data() {\n    return {\n      myOffers: []\n    };\n  },\n  created() {\n    let user = localStorage.getItem(\"user\");\n    let offers = JSON.parse(localStorage.getItem(\"offers\"));\n    let paintings = JSON.parse(localStorage.getItem(\"paintings\")); // ovde treba da se doda da se trazi iz svih tipova umetnina\n    for (let i = 0; i < offers.length; i++) {\n      if (offers[i].username == user) {\n        this.myOffers.push(offers[i]);\n        let artwork = paintings.find(element => element.name == offers[i].artwork);\n        this.myOffers[this.myOffers.length - 1].photo = artwork.photo;\n      }\n    }\n  },\n  methods: {\n    eraseOffer(artwork) {\n      let user = localStorage.getItem(\"user\");\n      let offers = JSON.parse(localStorage.getItem(\"offers\"));\n      this.myOffers = [];\n      let newOffers = offers.filter(function (offer) {\n        if (offer.username == user && offer.artwork != artwork) {\n          this.myOffers.push(offer);\n        }\n        return offer.username != user || offer.username == user && offer.artwork != artwork;\n      });\n      localStorage.setItem(\"offers\", JSON.stringify(newOffers));\n    }\n  }\n};","map":{"version":3,"names":["name","data","myOffers","created","user","localStorage","getItem","offers","JSON","parse","paintings","i","length","username","push","artwork","find","element","photo","methods","eraseOffer","newOffers","filter","offer","setItem","stringify"],"sources":["C:\\Users\\zeljk\\Desktop\\FAKS\\3. godina\\VD\\projekat\\vd_projekat\\projekat\\src\\components\\OffersView.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n    <div class=\"row\" style=\"margin-top: 20px\">\r\n        <div class=\"card border-0\" style=\"background-color : rgba(255, 255, 255, 0.8); margin: auto;\">\r\n        <div class=\"card-body\" style=\"display: flex; justify-content: left\">\r\n          <h3 class=\"card-title\">Moje ponude</h3>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\" style=\"margin-top: 20px; display: flex; justify-content: center\">\r\n      <div class=\"col-lg-6 col-sm-6 col-12\" v-for=\"offer of myOffers\" :key=\"offer.artwork\">\r\n        <div class=\"card border-0\" style=\"background-color : rgba(255, 255, 255, 0.8); margin-bottom: 20px\">\r\n        <img v-bind:src=\"'paintings/' + offer.photo\" alt=\"image\" style=\"height: 280px; margin-top: 10px; margin-left: 10px; margin-right: 10px\"/>\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">{{ offer.artwork }}</h5>\r\n          <p class=\"card-text\">\r\n            Iznos {{ offer.bidding }}\r\n          </p>\r\n          <button class=\"btn\" @click=\"eraseOffer(offer.artwork)\">Obri≈°i ponudu </button>\r\n        </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"OffersView\",\r\n    data(){\r\n        return{\r\n            myOffers: []\r\n        }\r\n    },\r\n    created(){\r\n        let user = localStorage.getItem(\"user\");\r\n        let offers = JSON.parse(localStorage.getItem(\"offers\"));\r\n        let paintings = JSON.parse(localStorage.getItem(\"paintings\")); // ovde treba da se doda da se trazi iz svih tipova umetnina\r\n        for (let i = 0; i < offers.length; i++){\r\n            if (offers[i].username == user){\r\n                this.myOffers.push(offers[i]);\r\n                let artwork = paintings.find(element => element.name == offers[i].artwork);\r\n                this.myOffers[this.myOffers.length - 1].photo = artwork.photo;\r\n            }\r\n        }\r\n\r\n    },\r\n    methods:{\r\n        eraseOffer(artwork){\r\n            let user = localStorage.getItem(\"user\");\r\n            let offers = JSON.parse(localStorage.getItem(\"offers\"));\r\n            this.myOffers = [];\r\n            let newOffers = offers.filter(function (offer){\r\n                if (offer.username == user && offer.artwork != artwork) {\r\n                    this.myOffers.push(offer);\r\n                }\r\n                return offer.username != user || (offer.username == user && offer.artwork != artwork);\r\n            });\r\n            localStorage.setItem(\"offers\", JSON.stringify(newOffers));\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":";AA2BA,eAAe;EACXA,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,QAAQ,EAAE;IACd;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAE;IACL,IAAIC,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACvC,IAAIC,MAAK,GAAIC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACvD,IAAII,SAAQ,GAAIF,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAE;IAC/D,KAAK,IAAIK,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIJ,MAAM,CAACK,MAAM,EAAED,CAAC,EAAE,EAAC;MACnC,IAAIJ,MAAM,CAACI,CAAC,CAAC,CAACE,QAAO,IAAKT,IAAI,EAAC;QAC3B,IAAI,CAACF,QAAQ,CAACY,IAAI,CAACP,MAAM,CAACI,CAAC,CAAC,CAAC;QAC7B,IAAII,OAAM,GAAIL,SAAS,CAACM,IAAI,CAACC,OAAM,IAAKA,OAAO,CAACjB,IAAG,IAAKO,MAAM,CAACI,CAAC,CAAC,CAACI,OAAO,CAAC;QAC1E,IAAI,CAACb,QAAQ,CAAC,IAAI,CAACA,QAAQ,CAACU,MAAK,GAAI,CAAC,CAAC,CAACM,KAAI,GAAIH,OAAO,CAACG,KAAK;MACjE;IACJ;EAEJ,CAAC;EACDC,OAAO,EAAC;IACJC,UAAUA,CAACL,OAAO,EAAC;MACf,IAAIX,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MACvC,IAAIC,MAAK,GAAIC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;MACvD,IAAI,CAACJ,QAAO,GAAI,EAAE;MAClB,IAAImB,SAAQ,GAAId,MAAM,CAACe,MAAM,CAAC,UAAUC,KAAK,EAAC;QAC1C,IAAIA,KAAK,CAACV,QAAO,IAAKT,IAAG,IAAKmB,KAAK,CAACR,OAAM,IAAKA,OAAO,EAAE;UACpD,IAAI,CAACb,QAAQ,CAACY,IAAI,CAACS,KAAK,CAAC;QAC7B;QACA,OAAOA,KAAK,CAACV,QAAO,IAAKT,IAAG,IAAMmB,KAAK,CAACV,QAAO,IAAKT,IAAG,IAAKmB,KAAK,CAACR,OAAM,IAAKA,OAAQ;MACzF,CAAC,CAAC;MACFV,YAAY,CAACmB,OAAO,CAAC,QAAQ,EAAEhB,IAAI,CAACiB,SAAS,CAACJ,SAAS,CAAC,CAAC;IAC7D;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}