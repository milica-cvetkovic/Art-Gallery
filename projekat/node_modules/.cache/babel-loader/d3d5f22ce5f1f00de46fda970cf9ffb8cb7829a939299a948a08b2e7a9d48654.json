{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-59f8aca4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"login\"\n};\nconst _hoisted_2 = {\n  id: \"form-div\"\n};\nconst _hoisted_3 = {\n  class: \"form-outline mb-4\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"username\"\n}, \"Username\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"form-outline mb-4\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"password\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-dark btn-block mb-4 submit\",\n  style: {\n    \"margin-right\": \"10px\"\n  }\n}, \"Log in\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  key: 1\n};\nconst _hoisted_9 = {\n  id: \"register-div\"\n};\nconst _hoisted_10 = {\n  class: \"form-outline mb-4\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"registerUsername\"\n}, \"Username\", -1 /* HOISTED */));\nconst _hoisted_12 = {\n  class: \"form-outline mb-4\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"registerPassword\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"form-outline mb-4\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"registerRepeatPassword\"\n}, \"Repeat password\", -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-dark btn-block mb-3\"\n}, \"Sign in\", -1 /* HOISTED */));\nconst _hoisted_17 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ProfileOffersView = _resolveComponent(\"ProfileOffersView\");\n  const _component_profile_messages_view = _resolveComponent(\"profile-messages-view\");\n  return $options.logged() == false && $options.registerCheck() == false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = $event => $options.login())\n  }, [_createElementVNode(\"span\", null, _toDisplayString($data.error), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"loginName\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.username]]), _hoisted_4]), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"loginPassword\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), _hoisted_6]), _hoisted_7, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-dark btn-block mb-4\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.registerRequest())\n  }, \"Register\")], 32 /* HYDRATE_EVENTS */)])])) : $options.registerCheck() ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"form\", {\n    onSubmit: _cache[7] || (_cache[7] = $event => $options.register())\n  }, [_createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"registerUsername\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.Rusername = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.Rusername]]), _hoisted_11]), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"registerPassword\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.Rpassword = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.Rpassword]]), _hoisted_13]), _createElementVNode(\"div\", _hoisted_14, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"registerRepeatPassword\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.RrepeatPassword = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.RrepeatPassword]]), _hoisted_15]), _hoisted_16], 32 /* HYDRATE_EVENTS */)])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createVNode(_component_ProfileOffersView), _createVNode(_component_profile_messages_view)]));\n}","map":{"version":3,"names":["class","id","_createElementVNode","for","type","style","$options","logged","registerCheck","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","$event","login","_toDisplayString","$data","error","_hoisted_3","username","_hoisted_4","_hoisted_5","password","_hoisted_6","_hoisted_7","onClick","registerRequest","_hoisted_8","_hoisted_9","register","_hoisted_10","Rusername","_hoisted_11","_hoisted_12","Rpassword","_hoisted_13","_hoisted_14","RrepeatPassword","_hoisted_15","_hoisted_16","_hoisted_17","_createVNode","_component_ProfileOffersView","_component_profile_messages_view"],"sources":["C:\\Users\\zeljk\\Desktop\\FAKS\\3. godina\\VD\\projekat\\vd_projekat\\projekat\\src\\views\\ProfileView.vue"],"sourcesContent":["<template>\r\n<div v-if=\"logged() == false && registerCheck() == false\" class=\"login\">\r\n  <div id=\"form-div\">\r\n    <form @submit=\"login()\"> \r\n      <span>{{error}}</span>\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"text\" id=\"loginName\" class=\"form-control\" v-model=\"username\"/>\r\n        <label class=\"form-label\" for=\"username\">Username</label>\r\n      </div>\r\n\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"password\" id=\"loginPassword\" class=\"form-control\" v-model=\"password\" />\r\n        <label class=\"form-label\" for=\"password\">Password</label>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-dark btn-block mb-4 submit\" style=\"margin-right:10px;\">Log in</button>\r\n      <button type=\"button\" class=\"btn btn-dark btn-block mb-4\" @click=\"registerRequest()\">Register</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<div v-else-if=\"registerCheck()\">\r\n<div id=\"register-div\">\r\n    <form @submit=\"register()\">\r\n\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"text\" id=\"registerUsername\" class=\"form-control\" v-model=\"Rusername\" />\r\n        <label class=\"form-label\" for=\"registerUsername\">Username</label>\r\n      </div>\r\n\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"password\" id=\"registerPassword\" class=\"form-control\" v-model=\"Rpassword\" />\r\n        <label class=\"form-label\" for=\"registerPassword\">Password</label>\r\n      </div>\r\n\r\n      <div class=\"form-outline mb-4\">\r\n        <input type=\"password\" id=\"registerRepeatPassword\" class=\"form-control\" v-model=\"RrepeatPassword\" />\r\n        <label class=\"form-label\" for=\"registerRepeatPassword\">Repeat password</label>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-dark btn-block mb-3\">Sign in</button>\r\n    </form>\r\n</div>\r\n</div>\r\n\r\n<div v-else>\r\n  <ProfileOffersView></ProfileOffersView>\r\n  <profile-messages-view></profile-messages-view>\r\n</div>\r\n</template>\r\n\r\n<style scoped>\r\n.login {\r\n  background: rgba(255, 255, 255, 0.8);\r\n  margin-bottom: -99999px;\r\n  padding-bottom: 200px;\r\n  padding-top: 150px;\r\n}\r\n\r\n.form-control {\r\n  width: 30%;\r\n  margin: auto;\r\n}\r\n\r\n#form-div, #register-div {\r\n  background: rgba(255, 255, 255, 0.8);\r\n  padding-top: 30px;\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nimport ProfileOffersView from \"../components/ProfileOffersView.vue\";\r\nimport ProfileMessagesView from \"../components/ProfileMessagesView.vue\";\r\nimport allUsers from \"../data/users.js\";\r\n\r\nexport default {\r\n  name: \"ProfileView\",\r\n  components: { ProfileOffersView, ProfileMessagesView },\r\n  mounted: function () {\r\n    $(document).prop(\"title\", \"Fine Art Co Profile\");\r\n  },\r\n  data() {\r\n    return {\r\n      user: \"\",\r\n      myOffers: [],\r\n      username: \"\",\r\n      password: \"\",\r\n      users: [],\r\n      error: \"\",\r\n      Rusername: '',\r\n      Rpassword: '',\r\n      RrepeatPassword: ''\r\n    };\r\n  },\r\n  created() {\r\n    // if (localStorage.getItem(\"user\") == null) {\r\n    //   localStorage.setItem(\"user\", \"elonmusk123\"); // ulogovan user\r\n    // }\r\n    this.user = localStorage.getItem(\"user\");\r\n\r\n    if (localStorage.getItem(\"users\") == null) {\r\n      this.users = allUsers;\r\n      localStorage.setItem(\"users\", JSON.stringify(this.users));\r\n    } else {\r\n      this.users = JSON.parse(localStorage.getItem(\"users\"));\r\n    }\r\n  },\r\n  methods: {\r\n    logged() {\r\n      return localStorage.getItem(\"logged\") != null;\r\n    },\r\n    login() {\r\n      let found = false;\r\n      for (let i = 0; i < this.users.length; i++) {\r\n        if (this.username == this.users[i].username) {\r\n          found = true;\r\n          if (this.password == this.users[i].password) {\r\n            localStorage.setItem(\"logged\", JSON.stringify(this.username));\r\n            location.reload();\r\n            return;\r\n          } else {\r\n            this.error = \"Lozinka nije ispravna\";\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      if (found == false) {\r\n        this.error = \"Korisnik ne postoji\";\r\n        return;\r\n      }\r\n    },\r\n    registerRequest() {\r\n      let found = true;\r\n      localStorage.setItem(\"registerRequest\", JSON.stringify(found));\r\n      location.reload();\r\n    },\r\n    registerCheck() {\r\n      return localStorage.getItem(\"registerRequest\") != null;\r\n    },\r\n    register() {\r\n\r\n      for (let i = 0; i < this.users.length; i++) {\r\n        if (this.Rusername == this.users[i].username) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      if(this.Rpassword != this.RrepeatPassword){\r\n        return;\r\n      }\r\n\r\n      let newUser = {\r\n        username: this.Rusername,\r\n        password: this.Rpassword\r\n      };\r\n\r\n      this.users.push(newUser);\r\n      localStorage.setItem(\"users\",JSON.stringify(this.users));\r\n\r\n      localStorage.removeItem(\"registerRequest\");\r\n    },\r\n  },\r\n};\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}